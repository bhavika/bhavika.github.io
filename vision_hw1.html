<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title> Bhavika Tekwani </title>
  <meta name="description" content="Personal website, portfolio, bio">
  <meta name="author" content="Bhavika Tekwani">

  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Font Awesome Social Icons -->
  <link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.min.css">
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/bhavikatekwani.css">

</head>

<body>
    <h5> Assignment 1 </h5>
    <h6> There are two program files - grayscale.py and transformations.py, both displayed below. </h6>
    <h5> grayscale.py </h5>

    <pre class="prettyprint">
          import cv2
          import os

          cap = cv2.VideoCapture(0)


          def capture_image():
          	while cap.isOpened():
          		ret, frame = cap.read()

          		cv2.imshow('Bhavika', frame)

          		if cv2.waitKey(1) & 0xFF == ord('y'):
          			cv2.imwrite('bhavika3.png', frame)
          			cv2.destroyAllWindows()
          			break

          	cap.release()


          def convert_to_grayscale(filepath):
          	img = cv2.imread(filepath)
          	img = cv2.cvtColor(img, cv2.COLOR_RGB2GRAY)

          	width = 1200
          	height = 900

          	img = cv2.resize(img, (width, height))
          	name = os.path.basename(filepath)[:-4] + "_grey.png"
          	cv2.imwrite(name, img)


          def main():
          	capture_image()
          	convert_to_grayscale('bhavika.png')

          if __name__ == '__main__':
          	main()
    </pre>

    <h5> transformations.py </h5>

    <pre class="prettyprint">
      import cv2
      import os
      import numpy as np
      import matplotlib.pyplot as plt

      def switch_colorspaces(filepath):
          flags = [i for i in dir(cv2) if i.startswith('COLOR_BGR2')]
          img = cv2.imread(filepath)
          img = cv2.cvtColor(img, cv2.COLOR_BGR2Luv)
          name = os.path.basename(filepath)[:-4] + "_{}.png".format('Luv')
          cv2.imwrite(name, img)

      def perspective_transformation(filepath):
          img = cv2.imread(filepath)

          pts1 = np.float32([[100, 0], [400, 40], [0, 50], [389, 390]])
          pts2 = np.float32([[0, 0], [50, 0], [0, 75], [100, 100]])

          M = cv2.getPerspectiveTransform(pts1, pts2)

          dst = cv2.warpPerspective(img, M, (300, 300))

          plt.imshow(dst)
          plt.show()


      def blur_image(filepath, color='rgb'):
          """
          Averaging.
          :param filepath: str, path to image
          """
          img = cv2.imread(filepath)
          blur = cv2.blur(img, (15, 15))
          name = os.path.basename(filepath)[:-4] + '_{}_averaging.png'.format(color)
          cv2.imwrite(name, blur)


      def medianBlurring(filepath, color='rbg'):
          img = cv2.imread(filepath)
          median = cv2.medianBlur(img, 15)
          name = os.path.basename(filepath)[:-4] + '_{}_median.png'.format(color)
          cv2.imwrite(name, median)


      def blending():
          img1 = cv2.imread('bhavika.png')
          img2 = cv2.imread('bhavika2.png')
          dst = cv2.addWeighted(img1, 0.7, img2, 0.3, 0)
          plt.imshow(dst)
          plt.show()

      if __name__ == '__main__':
          path1 = './output/bhavika.png'
          greyscale = './output/bhavika_grey.png'

          switch_colorspaces(path1)
          switch_colorspaces(greyscale)
          perspective_transformation(path1)
          perspective_transformation(greyscale)

          blur_image(path1, color='rgb')
          blur_image(greyscale, color='grey')

          medianBlurring(path1, color='rgb')
          medianBlurring(greyscale, color='grey')

          blending(path1)
    </pre>


</body>
